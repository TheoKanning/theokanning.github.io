<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Satisfactory Optimizer</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="" />
    <link rel="shortcut icon" href="https://theokanning.github.io/assets/images/global/favicon.png" type="image/png" />
    <link rel="canonical" href="https://theokanning.github.io/satisfactory-optimizer/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="theokanning.com" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Satisfactory Optimizer" />
    <meta property="og:description" content="" />
    <meta property="og:url" content="https://theokanning.github.io/satisfactory-optimizer/" />
    <meta property="og:image" content="https://theokanning.github.io/" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:tag" content="Python" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Satisfactory Optimizer" />
    <meta name="twitter:description" content="" />
    <meta name="twitter:url" content="https://theokanning.github.io/" />
    <meta name="twitter:image" content="https://theokanning.github.io/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="theokanning.com" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Python" />
    <meta name="twitter:site" content="@theokanning" />
    <meta name="twitter:creator" content="@theokanning" />
    <meta property="og:image:width" content="2000" />
    <meta property="og:image:height" content="666" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "theokanning.com",
        "logo": "https://theokanning.github.io/"
    },
    "url": "https://theokanning.github.io/satisfactory-optimizer/",
    "image": {
        "@type": "ImageObject",
        "url": "https://theokanning.github.io/",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://theokanning.github.io/satisfactory-optimizer/"
    },
    "description": ""
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Satisfactory Optimizer" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://theokanning.github.io/">theokanning.com</a>
            
        
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://linkedin.com/in/" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
</a>
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/theokanning" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-python  no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="22 January 2021">22 January 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/python/'>PYTHON</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Satisfactory Optimizer</h1>
            </header>

            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>Using Google’s <a href="https://developers.google.com/optimization">OR-Tools</a> to find optimal production ratios 
in <a href="http://www.satisfactorygame.com">Satisfactory</a>.</p>

<p>Code on <a href="http://github.com/theokanning/satisfactoryoptimizer">Github</a></p>

<p>Data taken from <a href="https://github.com/greeny/SatisfactoryTools/tree/dev/data">SatisfactoryTools</a></p>

<h2 id="satisfactory">Satisfactory</h2>
<p>Satisfactory is a game of automation.
You start by building machines to extract raw resources, then you combine resources and items into increasingly complex products.
A Miner produces Iron Ore, and then a Smelter turns Iron Ore into Iron Ingots etc.</p>

<figure class="image">
    <img src="/assets/images/2021/satisfactory/screenshot.jpeg" alt="" />
    <figcaption></figcaption>
</figure>

<p><a href="https://www.satisfactorygame.com">source</a></p>

<h2 id="recipes">Recipes</h2>
<p>Each construction machine takes input items and creates new items based on a specified recipe.
For example, the default Iron Ingot recipe turns 30 Iron Ore into 30 Iron Ingots every minute.</p>

<p>More advanced items can have up to four input items, and each recipe has unique input/output ratios, speeds, and by-products to consider.
Here’s a chart showing the steps to build a late-game item.</p>

<figure class="image">
    <img src="/assets/images/2021/satisfactory/flowchart.png" alt="" />
    <figcaption></figcaption>
</figure>

<p><a href="https://www.reddit.com/r/SatisfactoryGame/comments/b7zv8h/satisfactory_production_flowchart_with_alternate/">source</a></p>

<p>Quite a lot to remember when building a factory!</p>

<h2 id="alternate-recipes">Alternate Recipes</h2>
<p>To add even more complexity, many items have alternate recipes that may boost production depending on which starting resources are more plentiful.
For example, there are three Iron Ingot recipes:</p>
<ul>
  <li>Iron Ingot: 30 Iron Ore to 30 Iron Ingots</li>
  <li>Pure Iron Ingot: 35 Iron Ore and 20 Water to 65 Iron Ingots</li>
  <li>Iron Alloy Ingot: 20 Iron Ore and 20 Copper Ore to 50 Iron Ingots</li>
</ul>

<p>Which recipe is the best? It depends on which resources are nearby.
If you have excess water/copper, and a shortage of iron, then the alternates will help.</p>

<p>This Satisfactory Optimizer takes all alternate recipes into account and gives an optimal factory setup based on your available materials.</p>

<h2 id="dependencies">Dependencies</h2>
<p>Install OR-tools with Pipenv<br />
<code class="highlighter-rouge">pipenv install</code></p>

<h2 id="linear-optimization">Linear Optimization</h2>
<p>I modelled the recipe production ratios as a <a href="https://www.analyticsvidhya.com/blog/2017/02/lintroductory-guide-on-linear-programming-explained-in-simple-english/">linear programming</a> problem.<br />
A linear programming problem consists of <em>decision variables</em>, <em>constraints</em>, and an <em>objective function</em>.<br />
The optimizer modifies the decision variables to maximize the objective function while satisfying its constraints.</p>

<h3 id="decision-variables">Decision Variables</h3>
<p>We need to know how many machines should produce each recipe.
Therefore, the recipe assignments are the decision variables.</p>

<p>x<sub>r</sub> = # of machines producing recipe <em>r</em></p>

<p>x<sub>r</sub> is a non-negative real number.</p>

<h3 id="objective-function">Objective Function</h3>
<p>We want to create as many desirable products as possible, so the objective function is the score of each component multiplied by the total produced.
In order to eliminate extraneous recipes that don’t contribute to the final score, each recipe incurs a small penalty.</p>

<figure class="image">
    <img src="/assets/images/2021/satisfactory/objective.jpg" alt="" />
    <figcaption></figcaption>
</figure>

<p>where s<sub>c</sub> is the score for component <em>c</em>,<br />
n<sub>cr</sub> is the quantity of <em>c</em> produced by a single machine with recipe <em>r</em>,<br />
and <em>p</em> is a small, positive penalty.</p>

<p>n<sub>cr</sub> will be negative if <em>r</em> consumes <em>c</em> as an input.</p>

<h3 id="constraints">Constraints</h3>
<p>For this problem, the only constraint is that each component has a non-negative quantity, otherwise the optimizer could use recipes without having prerequisite materials.</p>

<p>For each component <em>c</em>,</p>

<figure class="image">
    <img src="/assets/images/2021/satisfactory/constraint.jpg" alt="" />
    <figcaption></figcaption>
</figure>

<p>where input<sub>c</sub> is the specified input amount for component <em>c</em>.</p>

<h2 id="or-tools">OR-Tools</h2>
<p>Now that recipe optimization is modelled as a linear programming problem, it’s time to plug it into OR-Tools.
Since this is a linear programming problem, I used the <a href="https://developers.google.com/optimization/lp/glop">GLOP</a> linear solver.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>from ortools.linear_solver import pywraplp

solver = pywraplp.Solver.CreateSolver('GLOP')
</code></pre></div></div>

<h3 id="decision-variables-1">Decision Variables</h3>
<p>The solver needs to know about each decision variable x<sub>r</sub>, so I created a dictionary with a variable for each recipe.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>recipe_vars = = dict([(r.name, solver.NumVar(0, 100, r.name)) for r in recipes])
</code></pre></div></div>
<p>The value of each variable is between 0 and an arbitrary max value, I chose 100.</p>

<h3 id="objective-function-1">Objective Function</h3>
<p>To calculate the objective, I calculate the total score of the outputs for each recipe and add them together.
I also subtract a small recipe cost to remove extraneous recipes.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>objective = solver.Objective()
for i, recipe in enumerate(recipes):
    recipe_contribution = sum([recipe.component_net_quantity(c) * s for c, s in outputs.items()])
    recipe_contribution -= 0.01
    objective.SetCoefficient(recipe_vars[recipe.name], recipe_contribution)
</code></pre></div></div>

<h3 id="constraints-1">Constraints</h3>
<p>Each component is constrained such that its total value from all recipes and inputs is non-negative.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for component in components:
    min_value = -inputs[component] if component in inputs else 0
    ct = solver.Constraint(min_value, 10000, component)

    # add the contribution of each recipe
    for i, recipe in enumerate(recipes):
        ct.SetCoefficient(recipe_vars[recipe.name], recipe.component_net_quantity(component))
</code></pre></div></div>

<h2 id="usage">Usage</h2>
<p>Example resource calculation in <code class="highlighter-rouge">satisfactory.py</code></p>

<ol>
  <li>Load recipes from the data file. For simplicity this example only uses default recipes.</li>
  <li>Specify the available resources in units/minute.</li>
  <li>Give a positive score to components you want to create.</li>
  <li>Send the recipes, inputs, and outputs to the optimizer</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>recipes = load_recipes()
default_recipes = [r for r in recipes if not r.alternate]

inputs = {
    "Iron Ore": 60
}

outputs = {
    "Reinforced Iron Plate": 1
}

optimizer = Optimizer(default_recipes, inputs, outputs)
optimizer.optimize()
</code></pre></div></div>

<p>Then run</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipenv run python satisfactory.py
</code></pre></div></div>

<p>Output:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Solution:
Objective value: 4.93

Recipes Used:
Iron Ingot: 2.00
Reinforced Iron Plate: 1.00
Iron Plate: 1.50
Iron Rod: 1.00
Screw: 1.50

Inputs Remaining:
Iron Ore: 0.00

Produced Components:
Reinforced Iron Plate: 5.00
</code></pre></div></div>
<p><code class="highlighter-rouge">Recipes Used</code> shows how many machines need to run each recipe.<br />
<code class="highlighter-rouge">Inputs Remaining</code> shows which resources run out first and limit production.<br />
<code class="highlighter-rouge">Produced Components</code> shows all the produced components, not just those with a score.</p>

<h2 id="advanced-example">Advanced Example</h2>
<p>I originally made this to optimize my fuel setup because oil refining has lots of by-products and complex alternate recipes.
Let’s see how it does on a more complicated example.</p>

<p>Assume 300 oil per minute, all recipes are unlocked, and we want to produce as much energy as possible.
In order to optmize energy production, set each output’s score to its in-game energy value.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>inputs = {
    "Crude Oil": 300,
    "Water": 800,
    "Coal": 533.33,
    "Sulfur": 533.33
}
outputs = {
    "Fuel": 600,
    "Turbofuel": 2000
}
</code></pre></div></div>

<p>This result matches the optimal fuel setup <a href="https://satisfactory.gamepedia.com/Tutorial:Setting_up_Fuel_Power">guide</a>!</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Recipes Used:
Alternate: Diluted Packaged Fuel: 13.33
Alternate: Compacted Coal: 21.33
Alternate: Heavy Oil Residue: 10.00
Turbofuel: 35.56
Packaged Water: 13.33
Unpackage Fuel: 13.33

Inputs Remaining:
Crude Oil: 0.00
Water: 0.00
Coal: 0.00
Sulfur: 0.00

Produced Components:
Polymer Resin: 200.00
Turbofuel: 666.66
</code></pre></div></div>

<h2 id="next-steps">Next Steps</h2>
<p>Next I could update this take power consumption into account, but with my optimal fuel setup I don’t think I’ll run out of power for a while.</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/global/theo.png" alt="theo" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/theo">Theo Kanning</a></h4>
                                
                                    <p>Read <a href="/author/theo">more posts</a> by this author.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/theo">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; theokanning.com &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/python/">Python</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/kaggle-multi-armed-bandit/">Multi-Armed Bandit</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/crossword-generator/">Crossword Generator</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/python/">
                                
                                    See all 2 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template no-image">
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/kaggle-multi-armed-bandit/">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Multi-Armed Bandit</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>A silver-medal winning entry to Kaggle's 2020 Christmas competition</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/global/theo.png" alt="Theo Kanning" />
                        
                        <span class="post-card-author">
                            <a href="/author/theo/">Theo Kanning</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      8 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template no-image">
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/crossword-generator/">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Crossword Generator</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>A crossword UI and generator written in Python</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/global/theo.png" alt="Theo Kanning" />
                        
                        <span class="post-card-author">
                            <a href="/author/theo/">Theo Kanning</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      6 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://theokanning.github.io/">
            
            <span>theokanning.com</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Satisfactory Optimizer</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Satisfactory+Optimizer&amp;url=satisfactory-optimizer/"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=satisfactory-optimizer/"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://theokanning.github.io/">theokanning.com</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    <a href="https://twitter.com/theokanning" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71323850-2', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
